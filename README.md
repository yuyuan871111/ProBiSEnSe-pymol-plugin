# ProBiSEnSe pymol plugin
**ProBiSEnSe** represents **Pro**tein **Bi**nding **S**ite **En**semble **Se**gmentation.  
Adapted from [MaSIF](https://github.com/LPDI-EPFL/masif/tree/master/source/masif_pymol_plugin), it is a visualization tool for the feature rich surface files using PyMOL.

Example data (PDB:5N69) open in Zenodo: [![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.14950638.svg)](https://doi.org/10.5281/zenodo.14950638)


## Original features in masif_pymol_plugin:
* This is a PyMOL plugin to visualize the feature rich surface files generated by MaSIF. 
* This plugin was used to make all the figures in the MaSIF paper. 
* This code is released under an Apache License v2.0. Feel free to use this code for your own plugins.

## Modified (differed) from the original source
* Adding a function to focus only on the interest pt (required the **interest** column in the .ply file)  
* Adding a function not to show surface to increase the speed to load a file.  
* Visualizing additional features in .ply files: **label**, **pred** (colored with different classes).  
* Adding a function to superimpose the .ply files with pdb alignment.  


## How to use?
### Load
In PyMOL console, you can do it like this:
```python
from probiosense_pymol_plugin.loadPLY import load_ply
load_ply(filename = "sample.ply", interest_pt = 1, ignore_surface = 0)
```
Note that:
* `filename`: indicate your .ply file
* `insterest_pt`: if you want to draw only the regions of interest, set it `1`. Otherwise, set it `0` for the whole protein.
* `ignore_surface`: if you want to draw the surface as well, set it `0`. Otherwise, set it `1` to ignore the surface.

If you have installed the plugin in your pymol, simply type:
```bash
# loadply [.ply file], [interest_pt], [ignore_surface]
loadply sample.ply, 1, 0
```

### Superimpose
The `sample` will be aligned to `reference` and the `sample.ply` will be aligned using the same rotational translational matrix.  
* `sample` is a pdb object in pymol.
* `sample.ply` is a cgo group, which was loaded using `loadply`. The `sample.ply` sould be the surface file of the pdb file `sample`.  
*  `reference` is a reference pdb object in pymol to be aligned to.

```bash
# superply [pdb_query object name], [ply_query name], [pdb_ref object name]
superply sample, sample.ply, reference
```

## Pack the script
```bash
zip -r {filename.zip} {foldername}
```
